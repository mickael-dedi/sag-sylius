const loadMoreElement=document.querySelector("[data-sag-load-more]");if(loadMoreElement){const e=parseInt(loadMoreElement.dataset.sagReviewCount),t=parseInt(loadMoreElement.dataset.sagMaxPerPage),a=Math.ceil(e/t),o=document.querySelector(loadMoreElement.dataset.sagReviewListContainerSelector);loadMoreElement.addEventListener("click",e=>{e.preventDefault();const t=parseInt(loadMoreElement.dataset.sagPage)+1;if(t>a)return;loadMoreElement.dataset.sagPage=t;const l=loadMoreElement.dataset.sagUrl.replace("CURRENT_PAGE",t);loadMoreElement.classList.add("loading"),loadMoreElement.disabled=!0,fetch(l).then(e=>{if(!e.ok)throw loadMoreElement.classList.remove("loading"),loadMoreElement.disabled=!1,new Error("Network response was not ok");return e.text()}).then(e=>{o.innerHTML+=e,a<=t&&(loadMoreElement.style.display="none"),loadMoreElement.classList.remove("loading"),loadMoreElement.disabled=!1})})}